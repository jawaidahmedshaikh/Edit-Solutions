<?xml version="1.0" encoding="utf-8"?>
	<mx:Application xmlns:billing="com.segsoftware.view.billing.*" 
		xmlns:encoding="com.segsoftware.view.encoding.*" 
		xmlns:mx="http://www.adobe.com/2006/mxml" 
		xmlns:control="com.segsoftware.control.*"
		xmlns:business="com.segsoftware.business.*"
		xmlns:custom="com.segsoftware.view.custom.*"
		xmlns:model="com.segsoftware.model.*"
		xmlns:logging="com.segsoftware.model.logging.*"
		layout="absolute" 
		initialize="init()">
		
	<mx:Style source="com/segsoftware/view/css/segSoftware.css"/>		
	 
	<!-- External script(s) that are used -->
	<mx:Script>
		<![CDATA[
			import com.segsoftware.model.localize.SEGLocalizerImpl;
			import com.segsoftware.model.localize.SEGLocalizer;
			import flash.net.navigateToURL;
			import com.segsoftware.model.SEGModelLocator;
			import com.segsoftware.model.logging.SEGLog;
			import com.segsoftware.model.CodeTable;
			import com.segsoftware.utility.Util;
			import flash.events.*;
			
			[Bindable]
			public var segLocalizer:SEGLocalizer = SEGLocalizerImpl.getInstance();			
	
			/**
			 * System bootstrap operations.
			 */
			private function init():void
			{
				// Touch this for pre-loading the DB values...
				var codeTable:CodeTable = CodeTable.getInstance();
				
				// Grab the operator from the enclosing JSP (probably SEGSoftwareApplication.jsp)
				var passedInOperator:String = Util.initString(Application.application.parameters.operator, "N/A");
				
				SEGModelLocator.getInstance().operator = passedInOperator;
				
				// Grab the flag to allow PRASE Tests or not.
				var passedInAllowPRASETest:String = Util.initString(Application.application.parameters.allowPRASETest, "Y");
				
				var allowPRASETest:Boolean = (passedInAllowPRASETest == "N")?false:true;
				
				SEGModelLocator.getInstance().allowPRASETest = allowPRASETest;	
				
				segLocalizer.langXML = this.langData;
				
				segLocalizer.language = "fr";
			}	
		]]>
	</mx:Script>
	
		
	
	<!-- specify the localization language file -->
	<mx:XML id="langData" source="com/segsoftware/model/localize/lang.xml" />
		
	<!-- the FrontController, containing Commands specific to this application -->
	<control:SEGController id="segController" />

	<!-- Logging mechanism -->
	<logging:SEGLog id="segLog" />

	<!-- Services are defined here and are readily accessible throughout the application -->
	<business:Services id="services" />

	<!-- Our menu system for our flex pages -->
	<custom:SEGApplicationControlBar dock="true" height="46"/>

	<encoding:Encoding id="encoding" left="10" right="0" top="10" bottom="0" label="Batch Entry"/>
	
</mx:Application>
