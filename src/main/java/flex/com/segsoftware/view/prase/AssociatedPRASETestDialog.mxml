<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="absolute" 
	width="550" 
	height="300"
	xmlns:ns1="com.segsoftware.view.custom.*" 
	title="Associated PRASE Test(s) Dialog"
	showCloseButton="true"
	close="mx.managers.PopUpManager.removePopUp(this)">
	
	<mx:Script>
		<![CDATA[
			import com.segsoftware.utility.Util;
			import com.segsoftware.control.SEGController;
			import mx.core.Container;
			import mx.containers.TabNavigator;
			import mx.core.Application;
			import com.segsoftware.model.SEGModelLocator;
			import mx.managers.PopUpManager;
		]]>
	</mx:Script>	
	
	<mx:Model id="formData">
		<formData>
			<PRASETestVO>{associatedPRASETestVOsDataGrid.selectedItem}</PRASETestVO>
		</formData>
	</mx:Model>
		
	<mx:DataGrid 
		id="associatedPRASETestVOsDataGrid"
		width="100%" 
		height="100%"
		dataProvider="{SEGModelLocator.getInstance().associatedPRASETestVOs}">
		<mx:columns>
			<mx:DataGridColumn headerText="Effective Date" dataField="DriverEffectiveDate"/>
			<mx:DataGridColumn headerText="Process" dataField="DriverProcess"/>
			<mx:DataGridColumn headerText="Event" dataField="DriverEvent"/>
			<mx:DataGridColumn headerText="Event Type" dataField="DriverEventType"/>
			<mx:DataGridColumn headerText="Rule">
				<mx:itemRenderer>
					<mx:Component>
						<mx:Text text="Driver"/>
					</mx:Component>
				</mx:itemRenderer>
			</mx:DataGridColumn>					
		</mx:columns>
	</mx:DataGrid>	
	<mx:ControlBar horizontalAlign="right">
		<mx:Button 
			label="Edit Test" icon="@Embed('../assets/icons/goto.png')"
			click=
			"
				if (associatedPRASETestVOsDataGrid.selectedItem)
				{
					Util.dispatchEvent(SEGController.EVENT_EDIT_ASSOCIATED_PRASETEST, formData);
					
					Util.dispatchEvent(SEGController.EVENT_GET_ALL_PRODUCTSTRUCTURES, null);

					PopUpManager.removePopUp(this);
				}	
			"/>
		<mx:Button label="OK"
			click="PopUpManager.removePopUp(this)"/>
	</mx:ControlBar>
	
</mx:TitleWindow>
